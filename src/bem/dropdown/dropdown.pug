mixin dropdown(value='')
   div(style!=attributes.margin).dropdown
      div.dropdown__select=value
         img(src=require('./bem/dropdown/dropdown__arrow.svg').default).dropdown__arrow.dropdown__arrow_active

// valueType: 'count', 'guests', 'rooms'
// controlType: 'none', 'apply', 'full'

mixin dropdown_(defaultValue, data, valueType='count', controlType='none', expanded=false)
   - let valueTypeClass = '';
   - if(valueType == 'guests') valueTypeClass = ' dropdown_guests';
   - if(valueType == 'rooms') valueTypeClass = ' dropdown_rooms';
   .dropdown
      div(class='dropdown__interface' + valueTypeClass)
         if expanded == true
            div.dropdown__select.dropdown__select_expanded
               .dropdown__select-value=defaultValue
               img(src=require('./bem/dropdown/dropdown__arrow_expanded.svg').default).dropdown__arrow
         else
            div.dropdown__select
               .dropdown__select-value=defaultValue
               img(src=require('./bem/dropdown/dropdown__arrow_expanded.svg').default).dropdown__arrow
         ul(class='dropdown__list' + (expanded ? '' : ' dropdown__list_collapsed'))
            each val in data
               li.dropdown__list-item
                  .dropdown__list-item-text=val.name
                  .dropdown__counter
                     if val.value == 0
                        .dropdown__counter-button.dropdown__minus.dropdown__counter-button_disabled
                           img(src=require('./bem/dropdown/dropdown__minus.svg').default)
                     else
                        .dropdown__counter-button.dropdown__minus
                           img(src=require('./bem/dropdown/dropdown__minus.svg').default)
                     .dropdown__counter-value=val.value
                     .dropdown__counter-button.dropdown__plus
                        img(src=require('./bem/dropdown/dropdown__plus.svg').default)
            if controlType != 'none'
               .dropdown__control
                  if controlType == 'full'
                     .dropdown__clear='Очистить'
                  else
                     div
                  .dropdown__apply Применить

mixin dropdown_default1(name, description, value)
   .dropdown
      .dropdown__header
         h3.dropdown__h3=name
         h3.dropdown__description=description
      div.dropdown__select
         .dropdown__select-value=value
         img(src=require('./bem/dropdown/dropdown__arrow.svg').default).dropdown__arrow

mixin dropdown_default2(name, description, value)
   .dropdown
      .dropdown__header
         h3.dropdown__h3=name
         h3.dropdown__description=description
      div.dropdown__select.dropdown__default
         .dropdown__select-value=value
         img(src=require('./bem/dropdown/dropdown__arrow_expanded.svg').default).dropdown__arrow

mixin dropdown_expanded(name, description, value,  entries, numbers)
   .dropdown
      .dropdown__header
         h3.dropdown__h3=name
         h3.dropdown__description=description
      .dropdown__interface
         div.dropdown__select.dropdown__select_expanded
            .dropdown__select-value=value
            img(src=require('./bem/dropdown/dropdown__arrow_expanded.svg').default).dropdown__arrow
         ul.dropdown__list
            each val, index in entries
               li.dropdown__list-item
                  .dropdown__list-item-text= val
                  .dropdown__counter
                     if numbers[index] == 0
                        .dropdown__counter-button.dropdown__minus.dropdown__counter-button_disabled
                           img(src=require('./bem/dropdown/dropdown__minus.svg').default)
                     else
                        .dropdown__counter-button.dropdown__minus
                           img(src=require('./bem/dropdown/dropdown__minus.svg').default)
                     .dropdown__counter-value=numbers[index]
                     .dropdown__counter-button.dropdown__plus
                        img(src=require('./bem/dropdown/dropdown__plus.svg').default)

mixin dropdown_expanded2(name, description, value,  entries, numbers)
   .dropdown
      .dropdown__header
         h3.dropdown__h3=name
      .dropdown__interface
         div.dropdown__select.dropdown__select_expanded
            .dropdown__select-value=value
            img(src=require('./bem/dropdown/dropdown__arrow_expanded.svg').default).dropdown__arrow
         ul.dropdown__list
            each val, index in entries
               li.dropdown__list-item
                  .dropdown__list-item-text= val
                  .dropdown__counter
                     if numbers[index] == 0
                        .dropdown__counter-button.dropdown__minus.dropdown__counter-button_disabled
                           img(src=require('./bem/dropdown/dropdown__minus.svg').default)
                     else
                        .dropdown__counter-button.dropdown__minus
                           img(src=require('./bem/dropdown/dropdown__minus.svg').default)
                     .dropdown__counter-value=numbers[index]
                     .dropdown__counter-button.dropdown__plus
                        img(src=require('./bem/dropdown/dropdown__plus.svg').default)
            .dropdown__control
               .dropdown__clear
               .dropdown__apply Применить

mixin dropdown_expanded3(name, description, value,  entries, numbers)
   .dropdown
      .dropdown__header
         h3.dropdown__h3=name
      .dropdown__interface
         div.dropdown__select.dropdown__select_expanded
            .dropdown__select-value=value
            img(src=require('./bem/dropdown/dropdown__arrow_expanded.svg').default).dropdown__arrow
         ul.dropdown__list
            each val, index in entries
               li.dropdown__list-item
                  .dropdown__list-item-text= val
                  .dropdown__counter
                     if numbers[index] == 0
                        .dropdown__counter-button.dropdown__minus.dropdown__counter-button_disabled
                           img(src=require('./bem/dropdown/dropdown__minus.svg').default)
                     else
                        .dropdown__counter-button.dropdown__minus
                           img(src=require('./bem/dropdown/dropdown__minus.svg').default)
                     .dropdown__counter-value=numbers[index]
                     .dropdown__counter-button.dropdown__plus
                        img(src=require('./bem/dropdown/dropdown__plus.svg').default)
            .dropdown__control
               .dropdown__clear Очистить
               .dropdown__apply Применить